<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>登录页</title>
		<link rel="stylesheet" type="text/css" href="../css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="../css/dengluye.css"/>
	</head>
	<body>
		<!--header-->
		<div class="header">
			<h1>信用商场</h1>
			<h2>欢迎登陆</h2>
			<div class="header_logo">
				<img src="../img/images/xy_header_tel.png"/>
			</div>
		</div>
		<!--content-->
		<div class="content">
			<div class="w1200">
				<div class="content_k">
					<h3 class="title"><i class="icon"></i>信用商场</h3>
				<div class="icon_top">
					<a class="a1" href="#">账户登陆</a>
					<a class="a2" href="注册页.html">注册</a>
					</div>
					<div class="content_from">
						<div class="formTop">
							<input type="text" name="" id="nameA" placeholder="手机号" value="" />
						</div>
						<div class="from_bottom">
							<input type="text" name="" id="passA" placeholder="密码" value="" />
						</div>
					</div>
					<div class="form_back">
						<label for="remember">
							<!--<i class="f1"></i>-->
							<lab id="jzmm">
								<input type="checkbox"id="cked" />
								<span id="ojimi">记住密码</span>
							</lab>
						</label>
						<a href="#">忘记密码？</a>
					</div>
					<div class="content_bottom">
						<input type="submit" name="" id="denglu" value="登陆" />
					</div>
				</div>
			</div>
		</div>
		<!--footer-->
		<div class="footer">
			<div class="footer_bottom">
				<img src="../img/images/扶贫商城_03.png">
				<ul>
					<li class="bottomLi"><a href="#"> 售后保障</a></li>
					<li class="bottom_li"><a href="#"> 退换货流程</a></li>
					<li><a href="#">售后服务承诺及政策</a></li>
				</ul>
				<ul>
					<li class="bottomLi"><a href="#"> 关于我们</a></li>
					<li class="bottom_li"><a href="#"> 公司信息</a></li>
					<li><a href="#">联系我们</a></li>
				</ul>
				<dl>
					<dt>扶贫认证</dt>
					<dd>二维码</dd>
				</dl>
				<span><img src="../img/images/index17_44.png"/></span>
				<p>版权所有：上海市社会信用促进中心 2017 沪 ICP 备：17053360 号</p>
			</div>
		</div>
	</body>
</html>
<script type="text/javascript">
function setCookie(name,value,expires,path,domain,secure) {
    //用一个变量保存设置的键值对,并且进行编码
    var cookieText = encodeURIComponent(name) + "=" + encodeURIComponent(value);
    //设置过期时间
    if(expires instanceof Date){
        cookieText += ";expires=" + expires;
    }
    //设置访问的路径
    if(path){
        cookieText += ";path=" + path;
    }
    //设置访问的域名
    if(domain){
        cookieText += ";domain=" + domain;
    }
    //设置访问的协议
    if(secure){
        cookieText += ";secure"
    }
    //写入cookie
    document.cookie = cookieText;
}
//获取cookie
function getCookie(name) {
    //userName=
    var cookieName = encodeURIComponent(name) + '=';
    //返回属性名的索引
    var cookieStart = document.cookie.indexOf(cookieName);
    //创建一个变量,用来保存cookie的值
    var cookieValue = null;
    //根据属性名查找cookie,如果大于0,那么这条cookie则存在,如果小于,则表示不存在
    if(cookieStart >= 0){
        var cookieEnd = document.cookie.indexOf(';', cookieStart);
        if(cookieEnd == -1){
            cookieEnd = document.cookie.length;
        }
        cookieValue = decodeURIComponent(document.cookie.substring(cookieStart + cookieName.length, cookieEnd));
    }
    return cookieValue;
}
//设置过期时间
function setCookieDate(day){
    if(typeof day == "number" && day > 0){
        var date = new Date();
        date.setDate(date.getDate() + day);
    }else{
        throw new Error('传递的day必须是一个天数，必须比0大');
    }
    return date;
}
//删除cookie
function deleteCookie(name) {
    document.cookie = name + "= ; expires=" + new Date(0);
}
	
	var jzmm = document.getElementById("jzmm");
	var cked = document.getElementById("cked");
	var nameA = document.getElementById("nameA");
	var passA = document.getElementById("passA");
	var denglu = document.getElementById("denglu");
	jzmm.onclick=function(){
		if(cked.checked==false){
			cked.checked=true;
//			setCookie("shouji",nameA.value,setCookieDate(10));
//			setCookie("pass",passA.value,setCookieDate(10));
		}else{
			cked.checked=false;
		}
	}
//	if(oa && ob){  
//		nameA.value=getCookie("shouji");
//		passA.value=getCookie("pass");
//		cked.checked=true;
////		window.location.href="../index.html";
//	}else{
//		nameA.value="";
//		passA.value="";
//		cked.checked=false;
//	}
//	function obj(a,b){
//		var obj = new Object();
//		obj[a]=b;
//		return obj;
//	}
//	var objs = {};
//	objs.nameA=getCookie("nameA");
//	objs.passA=getCookie("passA");
//	console.log(objs);
//	console.log(obj(getCookie("nameA"),getCookie("passA")));
	denglu.onclick=function(){
//		console.log(getCookie("shouji"));
//		console.log(getCookie("name"));
//		console.log(getCookie("pass"));
//		var reg = /^1\d{10}$/;
		var str = /^\s*$/;
		if(str.test(nameA.value) && str.test(passA.value)){
			alert("手机号和密码不能为空");
		}else if(str.test(nameA.value)){
			alert("手机号不能为空");
		}else if(str.test(passA.value)){
			alert("密码不能为空");
		}else if(nameA.value!=getCookie("shouji")){
			alert("手机号不存在");
		}else if(passA.value!=getCookie("pass")){
			alert("密码输入错误");
		}else if(nameA.value==getCookie("shouji") && passA.value==getCookie("pass")){
			window.location.href="index.html";
		}
//		if(str.test(nameA.value) && str.test(passA.value)){
//			alert("手机号和密码不能为空");
//		}else if(str.test(nameA.value)){
//			alert("手机号不能为空");
//		}else if(str.test(passA.value)){
//			alert("密码不能为空");
//		}else if(passA.value != objs.passA){
//			alert("密码错误");
//		}else if(nameA.value == objs.nameA && passA.value == objs.passA){
//			window.location.href="../index.html";
//		}
	}
	
	
	
</script>
